(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69],{983:(e,t,s)=>{"use strict";var n=s(6495);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},995:(e,t,s)=>{"use strict";s.d(t,{A1:()=>i,Bo:()=>c,XQ:()=>n,bE:()=>o,hz:()=>r,sX:()=>d});let n="cart:v2";function l(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function r(){let e=l(localStorage.getItem(n));if(Array.isArray(e))return e;let t=l(localStorage.getItem("cart:v1"));if(Array.isArray(t)){let e=t.map(e=>{if(!e.cheese){var t;let s=(null!=(t=e.note)?t:"").toLowerCase();if(s.includes("zonder kaas"))return{...e,cheese:"zonder"};if(s.includes("met kaas"))return{...e,cheese:"met"}}return e});return a(e),e}return[]}function a(e){localStorage.setItem(n,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("cart:updated",{detail:{count:i(e),items:e}}))}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();return e.reduce((e,t)=>{var s;return e+(null!=(s=t.qty)?s:1)},0)}function o(e){var t;let s=r();s.push({...e,qty:null!=(t=e.qty)?t:1,addedAt:Date.now()}),a(s)}function c(e){a(e)}function d(){a([])}},4283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(13),l=s(6662),r=s(983),a=s(995);let i=["11:30","12:00","12:30","13:00"],o=["small","medium","large"];function c(){let e=(0,r.useRouter)(),[t,s]=(0,l.useState)([]),[c,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),[f,g]=(0,l.useState)(""),[p,b]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1),[N,v]=(0,l.useState)(null);(0,l.useEffect)(()=>s((0,a.hz)()),[]);let y=e=>new Intl.NumberFormat("nl-BE",{style:"currency",currency:"EUR"}).format(e),k=(0,l.useMemo)(()=>t.reduce((e,t)=>{var s;return e+t.price*(null!=(s=t.qty)?s:1)},0),[t]),S=c.trim().length>=2&&/^[0-9 +().-]{8,}$/.test(m.trim())&&t.length>0;async function C(){v(null),b(!0);try{let e={name:c.trim(),phone:m.trim(),...x?{isCompany:!0}:{},...f.trim()?{companyName:f.trim()}:{}};if(!(await fetch("/api/order/email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e,items:t,total:k,placedAt:new Date().toISOString()})})).ok)throw Error("Kon bestelling niet versturen");(0,a.sX)(),w(!0)}catch(t){var e;v(null!=(e=t.message)?e:"Er ging iets mis")}finally{b(!1)}}return j?(0,n.jsx)("main",{className:"isolate mx-auto max-w-3xl px-4 py-6 md:py-10 text-slate-100",children:(0,n.jsx)("section",{className:"rounded-3xl border border-white/10 ring-1 ring-black/20 shadow-xl bg-white/5 backdrop-blur",children:(0,n.jsxs)("div",{className:"p-6 md:p-8",children:[(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold",style:{color:"#f4f5d3"},children:"Bedankt!"}),(0,n.jsx)("p",{className:"mt-2 text-slate-300",children:"Je bestelling is verstuurd. We nemen contact op via jouw telefoonnummer."}),(0,n.jsxs)("div",{className:"mt-5 flex gap-2",children:[(0,n.jsx)("button",{className:"btn-ghost",onClick:()=>e.push("/broodjes"),children:"Verder bestellen"}),(0,n.jsx)("button",{className:"btn-ghost",onClick:()=>e.push("/"),children:"Terug naar home"})]})]})})}):(0,n.jsx)("main",{className:"isolate mx-auto max-w-4xl px-4 py-6 md:py-10 text-slate-100",children:(0,n.jsx)("section",{className:"rounded-3xl border border-white/10 ring-1 ring-black/20 shadow-xl bg-white/5 backdrop-blur",children:(0,n.jsxs)("div",{className:"p-6 md:p-8",children:[(0,n.jsxs)("header",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",style:{color:"#f4f5d3"},children:"Bestellen"}),(0,n.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Vul je gegevens in en bevestig je bestelling."}),(0,n.jsx)("div",{className:"mt-4 h-1 w-full rounded-full bg-gradient-to-r from-[#f4f5d3]/40 via-transparent to-transparent"})]}),(0,n.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 md:p-5",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Jouw bestelling"}),0===t.length?(0,n.jsx)("p",{className:"mt-2 text-slate-400",children:"Je winkelmandje is leeg."}):(0,n.jsx)("ul",{className:"mt-3 divide-y divide-white/10",children:t.map(e=>{var t,s,l;let r=function(e){let t=null==e?void 0:e.category;return"string"==typeof t&&"pasta"===t.toLowerCase()}(e),a=function(e){let t=null==e?void 0:e.sauces;return Array.isArray(t)?t.filter(Boolean):[]}(e),c=function(e){let t=String((null==e?void 0:e.cheese)||"").toLowerCase();return"met"===t?"met":"zonder"===t?"zonder":""}(e);return(0,n.jsxs)("li",{className:"py-2 flex items-start justify-between gap-3",children:[(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsxs)("p",{className:"font-medium",children:[e.name," ",e.qty&&e.qty>1?"\xd7 ".concat(e.qty):""]}),(0,n.jsxs)("div",{className:"mt-1 flex flex-wrap gap-1.5 text-xs",children:[e.bread&&(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-0.5 font-medium",children:["Brood: ","bruin"===String(e.bread).toLowerCase()?"Bruin":"Wit"]}),r&&function(e){let t=null==e?void 0:e.timeslot;return!!t&&i.includes(t)}(e)&&(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-0.5 font-medium",children:["Timeslot: ",e.timeslot]}),r&&function(e){let t=String((null==e?void 0:e.size)||"").toLowerCase();return o.includes(t)}(e)&&(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-0.5 font-medium",children:["Maat: ",(l=String(e.size))?l.charAt(0).toUpperCase()+l.slice(1):l]}),r&&a.length>0&&(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-0.5 font-medium",children:["Sauzen: ",a.join(" + ")]}),r&&c&&(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-0.5 font-medium",children:["Emmental: ",c]})]}),(null==(t=e.removed)?void 0:t.length)>0?(0,n.jsxs)("p",{className:"mt-1 text-sm text-slate-400",children:["Weglaten: ",e.removed.join(", ")]}):null]}),(0,n.jsx)("div",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-semibold text-slate-100 ring-1 ring-white/12 bg-white/8",children:y(e.price*(null!=(s=e.qty)?s:1))})]},e.addedAt)})}),(0,n.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-slate-400",children:"Totaal"}),(0,n.jsx)("span",{className:"text-slate-100 font-semibold",children:y(k)})]})]}),(0,n.jsxs)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-slate-300 mb-1",children:"Naam"}),(0,n.jsx)("input",{value:c,onChange:e=>d(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#f4f5d3] focus:border-white/20",placeholder:"Voor- en achternaam"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm text-slate-300 mb-1",children:"Telefoonnummer"}),(0,n.jsx)("input",{value:m,onChange:e=>u(e.target.value),inputMode:"tel",className:"w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#f4f5d3] focus:border-white/20",placeholder:"bv. 0470 12 34 56"})]}),(0,n.jsxs)("div",{className:"sm:col-span-2 flex items-center gap-3 mt-1",children:[(0,n.jsx)("input",{id:"isCompany",type:"checkbox",checked:x,onChange:e=>h(e.target.checked),className:"h-4 w-4 rounded border-white/10 bg-white/5 text-[#f4f5d3] focus:ring-2 focus:ring-[#f4f5d3]"}),(0,n.jsx)("label",{htmlFor:"isCompany",className:"text-sm text-slate-300 select-none",children:"Bestellen als bedrijf"})]}),x&&(0,n.jsxs)("div",{className:"sm:col-span-2",children:[(0,n.jsxs)("label",{className:"block text-sm text-slate-300 mb-1",children:["Bedrijfsnaam ",(0,n.jsx)("span",{className:"text-slate-500",children:"(optioneel)"})]}),(0,n.jsx)("input",{value:f,onChange:e=>g(e.target.value),className:"w-full rounded-lg bg-white/5 border border-white/10 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#f4f5d3] focus:border-white/20"})]})]}),N&&(0,n.jsx)("p",{className:"mt-4 text-sm text-rose-300",children:N}),(0,n.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center gap-3 sm:justify-between",children:[(0,n.jsx)("p",{className:"text-xs text-slate-500",children:"Door te bestellen ga je akkoord met verwerking van je gegevens om je bestelling uit te voeren."}),(0,n.jsx)("button",{type:"button",disabled:!S||p,onClick:C,className:"btn-snaque px-4 py-2 ".concat(!S||p?"opacity-60 cursor-not-allowed":""),children:p?"Versturenâ€¦":"Bestellen (".concat((0,a.A1)(t)," item").concat(1===(0,a.A1)(t)?"":"s",")")})]})]})})})}},4906:(e,t,s)=>{Promise.resolve().then(s.bind(s,4283))}},e=>{e.O(0,[1,540,358],()=>e(e.s=4906)),_N_E=e.O()}]);