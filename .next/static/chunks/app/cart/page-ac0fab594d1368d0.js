(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{983:(e,t,s)=>{"use strict";var n=s(6495);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},995:(e,t,s)=>{"use strict";s.d(t,{A1:()=>a,Bo:()=>o,XQ:()=>n,bE:()=>d,hz:()=>l,sX:()=>c});let n="cart:v2";function r(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function l(){let e=r(localStorage.getItem(n));if(Array.isArray(e))return e;let t=r(localStorage.getItem("cart:v1"));if(Array.isArray(t)){let e=t.map(e=>{if(!e.cheese){var t;let s=(null!=(t=e.note)?t:"").toLowerCase();if(s.includes("zonder kaas"))return{...e,cheese:"zonder"};if(s.includes("met kaas"))return{...e,cheese:"met"}}return e});return i(e),e}return[]}function i(e){localStorage.setItem(n,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("cart:updated",{detail:{count:a(e),items:e}}))}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l();return e.reduce((e,t)=>{var s;return e+(null!=(s=t.qty)?s:1)},0)}function d(e){var t;let s=l();s.push({...e,qty:null!=(t=e.qty)?t:1,addedAt:Date.now()}),i(s)}function o(e){i(e)}function c(){i([])}},3923:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var n=s(13),r=s(6662),l=s(983),i=s(995);let a=["11:30","12:00","12:30","13:00"],d=["small","medium","large"],o=["met","zonder"];function c(e){let t=null==e?void 0:e.category;if("string"!=typeof t)return!1;let s=t.toLowerCase();return"pasta"===s||"pasta_special"===s}function u(e){let t=null==e?void 0:e.category;return"string"==typeof t&&"pasta_special"===t.toLowerCase()}function m(e){let t=null==e?void 0:e.timeslot;return!!t&&a.includes(t)}function x(e){let t=String((null==e?void 0:e.size)||"").toLowerCase();return d.includes(t)}function h(e){let t=null==e?void 0:e.sauces;return Array.isArray(t)?t.filter(Boolean):[]}function p(e){if(!(c(e)&&!u(e)))return!0;let t=h(e);return t.length>=1&&t.length<=2}function g(e){let t=String((null==e?void 0:e.cheese)||"").toLowerCase();return o.includes(t)}function f(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)([]);(0,r.useEffect)(()=>{s((0,i.hz)());let e=()=>s((0,i.hz)()),t=e=>{e.key===i.XQ&&s((0,i.hz)())};return window.addEventListener("cart:updated",e),window.addEventListener("storage",t),()=>{window.removeEventListener("cart:updated",e),window.removeEventListener("storage",t)}},[]);let a=e=>new Intl.NumberFormat("nl-BE",{style:"currency",currency:"EUR"}).format(e),d=e=>{var t;return null!=(t=e.qty)?t:1},o=(0,r.useMemo)(()=>t.reduce((e,t)=>e+t.price*d(t),0),[t]),f=(0,r.useMemo)(()=>t.filter(e=>!!c(e)&&!(m(e)&&x(e)&&p(e)&&g(e))),[t]),N=t.length>0&&0===f.length,y=(e,t)=>{if(!e)return;let n=(0,i.hz)().map(s=>s.addedAt===e?{...s,qty:Math.max(1,Math.min(99,t))}:s);(0,i.Bo)(n),s(n)};return(0,n.jsx)("main",{className:"isolate mx-auto max-w-5xl px-4 py-6 md:py-10 text-slate-100",children:(0,n.jsx)("section",{className:" relative overflow-hidden rounded-3xl border border-white/10 ring-1 ring-black/20 shadow-xl bg-white/5 backdrop-blur ",children:(0,n.jsxs)("div",{className:"p-5 md:p-8",children:[(0,n.jsxs)("header",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Winkelmandje"}),(0,n.jsxs)("p",{className:"mt-1 text-sm text-slate-400",children:[(0,i.A1)(t)," item",1===(0,i.A1)(t)?"":"s"," in je mandje"]})]}),t.length>0&&(0,n.jsxs)("button",{type:"button",onClick:()=>{(0,i.sX)(),s([])},className:"btn-ghost self-start inline-flex items-center gap-2",children:[(0,n.jsx)(v,{})," Mandje legen"]})]}),0===t.length?(0,n.jsx)(b,{onBack:()=>e.push("/broodjes")}):(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_340px] gap-6",children:[(0,n.jsx)("ul",{className:"space-y-4",children:t.map(t=>{var r,l,o;let f=c(t),j=u(t),b=m(t),N=x(t),k=p(t),A=g(t),z=h(t),C=function(e){let t=String((null==e?void 0:e.cheese)||"").toLowerCase();return"met"===t?"met":"zonder"===t?"zonder":""}(t);return(0,n.jsxs)("li",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("h3",{className:"text-lg font-medium leading-tight",children:t.name}),(0,n.jsxs)("p",{className:"mt-1 text-sm text-slate-400",children:[a(t.price)," per stuk"]}),f&&(0,n.jsxs)("div",{className:"mt-3 space-y-1.5 text-sm",children:[b?(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-1 text-xs font-medium",children:["Timeslot: ",t.timeslot]}):(0,n.jsx)("span",{className:"inline-flex items-center rounded-md bg-rose-500/10 text-rose-200 ring-1 ring-rose-400/30 px-2 py-1 text-xs",children:"Kies een tijdslot"}),N?(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-1 text-xs font-medium",children:["Maat: ",(o=String(t.size))?o.charAt(0).toUpperCase()+o.slice(1):o]}):(0,n.jsx)("span",{className:"inline-flex items-center rounded-md bg-rose-500/10 text-rose-200 ring-1 ring-rose-400/30 px-2 py-1 text-xs",children:"Kies een maat (Small/Medium/Large)"}),j?(0,n.jsx)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-1 text-xs font-medium",children:"Sauzen: niet nodig"}):k?(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-1 text-xs font-medium",children:["Sauzen: ",z.join(" + ")]}):(0,n.jsx)("span",{className:"inline-flex items-center rounded-md bg-rose-500/10 text-rose-200 ring-1 ring-rose-400/30 px-2 py-1 text-xs",children:"Kies 1 of 2 sauzen"}),A?(0,n.jsxs)("span",{className:"inline-flex items-center rounded-md bg-white/5 text-slate-200 ring-1 ring-white/10 px-2 py-1 text-xs font-medium",children:["Emmental: ",C]}):(0,n.jsx)("span",{className:"inline-flex items-center rounded-md bg-rose-500/10 text-rose-200 ring-1 ring-rose-400/30 px-2 py-1 text-xs",children:"Kies met of zonder kaas"}),(!b||!N||!k||!A)&&(0,n.jsx)("div",{className:"pt-1",children:(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/pasta/add/".concat(t.id)),className:"underline underline-offset-2 text-[#f4f5d3]/90 hover:text-[#f4f5d3]",children:"Bewerken bij pasta"})})]}),(null==(r=t.removed)?void 0:r.length)>0||t.note?(0,n.jsxs)("div",{className:"mt-3 space-y-1.5 text-sm",children:[(null==(l=t.removed)?void 0:l.length)>0&&(0,n.jsxs)("p",{className:"text-slate-300",children:[(0,n.jsx)("span",{className:"text-slate-400",children:"Weglaten:"})," ",t.removed.join(", ")]}),t.note&&(0,n.jsxs)("p",{className:"text-slate-300",children:[(0,n.jsx)("span",{className:"text-slate-400",children:"Opmerking:"})," ",t.note]})]}):null]}),(0,n.jsx)("div",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-semibold text-slate-100 ring-1 ring-white/12 bg-white/8",children:a(t.price*d(t))})]}),(0,n.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 justify-between",children:[(0,n.jsx)(w,{value:d(t),onDec:()=>y(t.addedAt,d(t)-1),onInc:()=>y(t.addedAt,d(t)+1)}),(0,n.jsxs)("button",{type:"button",onClick:()=>(e=>{if(!e)return;let t=(0,i.hz)().filter(t=>t.addedAt!==e);(0,i.Bo)(t),s(t)})(t.addedAt),className:"btn-ghost inline-flex items-center gap-2",children:[(0,n.jsx)(v,{})," Verwijderen"]})]})]},t.addedAt)})}),(0,n.jsxs)("aside",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 lg:p-5 h-fit",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Overzicht"}),(0,n.jsxs)("div",{className:"mt-3 space-y-2 text-sm",children:[(0,n.jsx)(j,{label:"Subtotaal",value:a(o)}),(0,n.jsx)(j,{label:"Totaal",value:a(o),bold:!0}),(0,n.jsx)("p",{className:"text-xs text-slate-500",children:"Prijzen incl. btw."})]}),f.length>0&&(0,n.jsxs)("div",{className:"mt-4 rounded-lg bg-rose-500/10 ring-1 ring-rose-400/30 p-3 text-sm text-rose-200 space-y-1",children:[(0,n.jsx)("p",{className:"font-medium",children:"Aanvullen vereist voor pasta:"}),(0,n.jsx)("ul",{className:"list-disc pl-5 space-y-0.5",children:f.map(e=>{let t=[];return m(e)||t.push("tijdslot"),x(e)||t.push("maat"),!c(e)||u(e)||p(e)||t.push("sauzen (1–2)"),g(e)||t.push("kaas"),(0,n.jsxs)("li",{children:[e.name,": ontbreekt ",t.join(", ")]},e.addedAt)})})]}),(0,n.jsxs)("div",{className:"mt-5 space-y-2",children:[(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/broodjes"),className:"w-full btn-ghost",children:"Verder winkelen"}),(0,n.jsx)("button",{type:"button",onClick:()=>N&&e.push("/order"),disabled:!N,"aria-disabled":!N,className:"w-full btn-snaque disabled:opacity-60 disabled:cursor-not-allowed",children:"Bestellen"})]})]})]})]})})})}function j(e){let{label:t,value:s,bold:r=!1}=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-slate-400",children:t}),(0,n.jsx)("span",{className:r?"font-semibold text-slate-100":"text-slate-200",children:s})]})}function b(e){let{onBack:t}=e;return(0,n.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 text-center",children:[(0,n.jsx)("p",{className:"text-slate-300",children:"Je winkelmandje is leeg."}),(0,n.jsx)("button",{type:"button",onClick:t,className:"mt-4 btn-ghost",children:"Naar Broodjes"})]})}function w(e){let{value:t,onDec:s,onInc:r}=e;return(0,n.jsxs)("div",{className:"inline-flex items-center rounded-md ring-1 ring-white/10 overflow-hidden",children:[(0,n.jsx)("button",{type:"button",onClick:s,className:"px-2 py-1.5 text-sm text-slate-200 hover:bg-white/10","aria-label":"Aantal verlagen",children:"−"}),(0,n.jsx)("span",{className:"min-w-[2.5rem] text-center text-sm font-medium text-slate-100",children:t}),(0,n.jsx)("button",{type:"button",onClick:r,className:"px-2 py-1.5 text-sm text-slate-200 hover:bg-white/10","aria-label":"Aantal verhogen",children:"+"})]})}function v(){return(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:(0,n.jsx)("path",{d:"M4 7h16M9 7V5a2 2 0 0 1 2-2h2a 2 2 0 0 1 2 2v2m1 0-1 12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},9228:(e,t,s)=>{Promise.resolve().then(s.bind(s,3923))}},e=>{e.O(0,[1,540,358],()=>e(e.s=9228)),_N_E=e.O()}]);